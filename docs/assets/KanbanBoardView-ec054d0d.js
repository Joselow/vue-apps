import{h,o as l,c as y,i as w,f as d,g as C,j as S,w as U,v as N,u as f,a,k as T,_ as O,l as P,e as x,T as q,m as F,F as B,b as V,n as J,d as D,t as k,p as L,q as R,s as X,x as G}from"./index-471bf63f.js";import{T as A}from"./Tag-c000848b.js";const z={class:"board border border-4 p-4 bg-indigo-200"},H={__name:"Board",emits:["newItem","deleteBoard"],setup(p,{emit:_}){let o=h("");const n=c=>{c.keyCode===13&&o.value!==""&&(_("newItem",o.value),o.value="")},i=()=>{_("deleteBoard")};return(c,v)=>(l(),y("div",z,[w(A,{class:"border-none flex justify-end ms-48",style:{border:"none",padding:"0px"},onActionEmit:i},{icon:d(()=>[C(" X ")]),_:1}),S(c.$slots,"titleBoard"),U(a("input",{class:"mb-2 flex text-center placeholder-center",type:"text","onUpdate:modelValue":v[0]||(v[0]=g=>T(o)?o.value=g:o=g),placeholder:"Ingresa",onKeydown:n},null,544),[[N,f(o)]]),S(c.$slots,"itemBoard")]))}};const E=p=>(R("data-v-e0c9f5a5"),p=p(),X(),p),Q=E(()=>a("h2",{class:"text-2xl font-bold mb-4"},"Ingresa un nombre",-1)),W={class:"mr-2"},Y=E(()=>a("h3",null,"Crear Tablero",-1)),Z=[Y],ee={class:"boards flex flex-wrap gap-5 justify-center align-center"},te={class:"font-bold"},oe={class:"p-2 text-slate-100"},ae={__name:"KanbanBoardView",setup(p){const _=L(()=>G(()=>import("./Modal-cbc4e538.js"),["./Modal-cbc4e538.js","./index-471bf63f.js","./index-d4703303.css"],import.meta.url));let o=P([{id:crypto.randomUUID(),name:"Tablero 1",items:[{id:crypto.randomUUID(),title:"Programa papu"},{id:crypto.randomUUID(),title:"Cambiame de tablero"}]},{id:crypto.randomUUID(),name:"Tablero 2",items:[{id:crypto.randomUUID(),title:"Modo Guerra"},{id:crypto.randomUUID(),title:"Ami ni me toques"}]}]),n=h(""),i=h(!1);const c=()=>{i.value=!0,n.value=""},v=()=>{n.value===""||o.find(e=>e.name===n.value)||n.value!=""&&(o.push({id:crypto.randomUUID(),name:n.value,items:[]}),setTimeout(()=>i.value=!1,150))},g=s=>{o.splice(s,1)},M=(s,e)=>{e.items.push({id:crypto.randomUUID(),title:s})},j=(s,e)=>{s.items.splice(e,1)},K=(s,e,t)=>{const u={idBoard:e.id,idItem:t.id};s.dataTransfer.setData("application/json",JSON.stringify(u))},$=(s,e)=>{const{idBoard:t,idItem:u}=JSON.parse(s.dataTransfer.getData("application/json")),r=o.find(m=>m.id===t),I=r.items.find(m=>m.id===u);e.items.push(I);const b=r.items.findIndex(m=>m.id===u);r.items.splice(b,1)};return(s,e)=>(l(),y(B,null,[(l(),x(F,{to:"body"},[w(q,null,{default:d(()=>[U(w(f(_),{onCloseEmit:e[2]||(e[2]=t=>T(i)?i.value=!1:i=!1)},{formModal:d(()=>[Q,a("form",{class:"flex",onSubmit:e[1]||(e[1]=D(()=>{},["prevent"]))},[a("div",W,[U(a("input",{type:"text",id:"nameInput",placeholder:"Nombre",class:"border border-gray-300 rounded px-4 py-2 w-full focus:outline-none focus:ring focus:border-blue-500","onUpdate:modelValue":e[0]||(e[0]=t=>T(n)?n.value=t:n=t)},null,512),[[N,f(n)]])]),a("button",{type:"button",class:"bg-green-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded transition-colors duration-300",onClick:v},"Agregar")],32)]),_:1},512),[[J,f(i)]])]),_:1})])),a("div",{class:"flex justify-center align-center"},[a("button",{class:"bg-cyan-400 m-5 p-2 w-40 radius rounded-lg font-bold",onClick:c},Z)]),a("div",ee,[(l(!0),y(B,null,V(f(o),(t,u)=>(l(),x(H,{key:t.id,onNewItem:r=>M(r,t),onDeleteBoard:r=>g(u),onDrop:r=>$(r,t),onDragover:e[3]||(e[3]=D(()=>{},["prevent"])),onDragenter:e[4]||(e[4]=D(()=>{},["prevent"]))},{titleBoard:d(()=>[a("span",te,k(t.name),1)]),itemBoard:d(()=>[(l(!0),y(B,null,V(t.items,(r,I)=>(l(),x(A,{class:"bg-indigo-600 m-1",onActionEmit:b=>j(t,I),draggable:"true",onDragstart:b=>K(b,t,r)},{content:d(()=>[a("div",oe,[a("span",null,k(r.title),1)])]),icon:d(()=>[C(" X ")]),_:2},1032,["onActionEmit","onDragstart"]))),256))]),_:2},1032,["onNewItem","onDeleteBoard","onDrop"]))),128))])],64))}},re=O(ae,[["__scopeId","data-v-e0c9f5a5"]]);export{re as default};
