import{l as B,_ as k,h as w,o as l,c as r,u as a,y as u,i as _,f,a as t,g as h,t as g,F as P,b as F,z as U,e as $,T as E,q as I,s as N,w as b,v,n as j}from"./index-471bf63f.js";import{T as S}from"./Tag-c000848b.js";import L from"./Modal-cbc4e538.js";const e=B({params:{total:0,tip:0,numPeople:0,pendingToPay:0},people:[]}),n=B({total:125,tip:3,numPeople:5});function A(){return e.params.total*(e.params.tip/100+1)}function M(){e.people=[];const o=e.params.numPeople,c=A()/o;for(let s=0;s<o;s++)e.people.push({id:crypto.randomUUID(),numPerson:s+1,toPay:c,paid:!1});e.params.pendingToPay=y()}function y(){return e.people.filter(s=>!s.paid).reduce((s,i)=>s+i.toPay,0)}function z(o,c){const s=e.people.find(i=>i.id===o);s&&(s.paid=c,e.params.pendingToPay=y())}function D(){e.people=[],Object.keys(e.params).forEach(o=>{e.params[o]=0})}const C=o=>(I("data-v-761296fa"),o=o(),N(),o),O={key:0,class:"bg-red-300 text-center font-bold text-xl rounded-lg p-2"},q={key:0},G={class:"p-2 grid grid-cols-3 rounded-md mb-4 text-white ps-12 bg-sky-700 ml-4 mr-4"},X=["title"],H=["title"],J={class:"text-gray-300 font-bold text-xl"},K={key:0,class:"text-black font-bold rounded-md text-white col-span-2 text-center bg-sky-100 text-lg max-[600px]:pt-4"},Q={class:"p-2 rounded-md mb-4 text-white ps-12 bg-sky-800 text-lg ml-4 mr-4"},R={class:"text-rose-300 font-bold"},W={class:"mb-6 flex flex-wrap gap-6 justify-center"},Y={class:"border bg-gray-500 flex flex-col gap-1"},Z={class:"p-4 bg-rose-300 w-64"},tt={class:"p-4 bg-rose-300"},et=C(()=>t("span",{title:"Pagar su parte"}," ✔ Pagar ",-1)),ot=C(()=>t("span",{class:"text-gray-900 ps-6"}," PAGADO ",-1)),st=C(()=>t("span",{class:"text-xl font-bold"}," X ",-1)),nt={__name:"Account",setup(o){const c=w(!1),s=(i,m)=>{c.value=m,z(i,m)};return(i,m)=>(l(),r(P,null,[a(e).people.length===0?(l(),r("div",O," Sin cuentas ")):u("",!0),_(E,null,{default:f(()=>[a(e).people.length>0?(l(),r("div",q,[t("div",G,[t("div",null,[t("span",{title:a(e).params.total,class:"hover:cursor-pointer"}," Total ",8,X),h(" + "),t("span",{title:a(A)()-a(e).params.total,class:"hover:cursor-pointer"}," Propina ",8,H),h(": S/ "),t("span",J,g(a(A)()),1)]),a(y)()===0?(l(),r("span",K," CUENTA SALDADA !! ")):u("",!0)]),t("div",Q,[h(" Falta pagar: S/ "),t("span",R,g(a(y)()),1)]),t("div",W,[(l(!0),r(P,null,F(a(e).people,d=>(l(),r("div",Y,[t("div",Z," Persona "+g(d.numPerson),1),t("div",{class:U(["p-4 bg-rose-300 text-center text-lg font-bold",[a(y)()===0?"text-lime-700":null]])}," S/ "+g(d.toPay),3),t("div",tt,[d.paid?u("",!0):(l(),$(S,{key:0,class:"bg-gray-900",onActionEmit:p=>s(d.id,!0)},{icon:f(()=>[et]),_:2},1032,["onActionEmit"])),d.paid?(l(),$(S,{key:1,class:"p-1 text-center bg-cyan-400 border-none",style:{"border-radius":"12px"},onActionEmit:p=>s(d.id,!1)},{content:f(()=>[ot]),icon:f(()=>[st]),_:2},1032,["onActionEmit"])):u("",!0)])]))),256))])])):u("",!0)]),_:1})],64))}},at=k(nt,[["__scopeId","data-v-761296fa"]]);const T=o=>(I("data-v-41f359e5"),o=o(),N(),o),lt={class:""},ct={action:""},rt={class:"mb-4"},it=T(()=>t("label",{for:"total",class:"block text-sm font-medium text-gray-700"},"S/. Cuenta total",-1)),dt={class:"mb-4"},pt=T(()=>t("label",{for:"propina",class:"block text-sm font-medium text-gray-700"},"% Porcenataje de Propina",-1)),ut={class:"mb-1"},mt=T(()=>t("label",{for:"numPersonas",class:"block text-sm font-medium text-gray-700"},"Número de Personas",-1)),_t={key:1,class:"text-red-500"},ft={__name:"FomAccount",props:{hiddenButtonClean:{type:Boolean,default:!1}},emits:["emitCalculatedAccount"],setup(o,{emit:c}){const s=w(null),i=()=>{if(console.log(n.total),n.total===""&&n.tip===""&&n.numPeople===""){s.value="Completa todos los campos porfavor.";return}e.params.total=n.total,e.params.tip=n.tip,e.params.numPeople=n.numPeople,M(),c("emitCalculatedAccount")},m=()=>{D(),n.total="",n.tip="",n.numPeople=""};return(d,p)=>(l(),r("div",lt,[t("form",ct,[t("div",rt,[it,b(t("input",{min:"0",id:"total",type:"number",placeholder:"S/.",class:"text-end mt-1 p-1 border border-gray-300 rounded-md","onUpdate:modelValue":p[0]||(p[0]=x=>a(n).total=x)},null,512),[[v,a(n).total]])]),t("div",dt,[pt,b(t("input",{min:"0",id:"propina",type:"number",placeholder:"(%)",class:"text-end mt-1 p-1 border border-gray-300 rounded-md","onUpdate:modelValue":p[1]||(p[1]=x=>a(n).tip=x)},null,512),[[v,a(n).tip]])]),t("div",ut,[mt,b(t("input",{min:"0",id:"numPersonas",type:"number",placeholder:"0",class:"text-end mt-1 p-1 border border-gray-300 rounded-md","onUpdate:modelValue":p[2]||(p[2]=x=>a(n).numPeople=x)},null,512),[[v,a(n).numPeople]])]),t("div",null,[t("button",{class:"btn-float bg-cyan-400 m-5 p-2 w-40 rounded-lg font-bold text-white",type:"button",title:"Calcular cuenta",onClick:i},"Calcular")]),a(e).people.length>0&&!o.hiddenButtonClean?(l(),r("button",{key:0,class:"m-5 p-1 bg-violet-600 w-40 rounded-lg text-gray-100",type:"button",title:"Borrar cuenta y formulario",onClick:m},"Limpiar todo ")):u("",!0),s.value?(l(),r("span",_t,g(s.value),1)):u("",!0)])]))}},V=k(ft,[["__scopeId","data-v-41f359e5"]]);const xt={class:"flex flex-wrap justify-center"},gt={class:"grid grid-cols-7 mt-12 gap-12 items-center justify-center max-[600px]:mt-0"},yt={class:"form-account text-center col-span-2 max-[1024px]:hidden"},bt={class:"accounts col-span-5 max-[1024px]:col-span-7"},ht={__name:"SplitAccountView",setup(o){const c=w(!1),s=()=>{c.value=!1},i=()=>{D(),n.total="",n.tip="",n.numPeople=""};return(m,d)=>(l(),r(P,null,[_(E,null,{default:f(()=>[b(_(L,{onCloseEmit:s},{formModal:f(()=>[_(V,{hiddenButtonClean:!0,onEmitCalculatedAccount:s})]),_:1},512),[[j,c.value]])]),_:1}),t("div",xt,[t("button",{class:"bg-cyan-400 m-5 p-2 w-32 rounded-lg font-bold text-white hidden max-[1024px]:block",type:"button",onClick:d[0]||(d[0]=p=>c.value=!0)},"Nuevo Calculo"),a(e).people.length>0?(l(),r("button",{key:0,class:"m-5 p-1 bg-violet-600 w-32 rounded-lg text-gray-100 hidden max-[1024px]:block",type:"button",onClick:i},"Limpiar todo ")):u("",!0)]),t("div",gt,[t("div",yt,[_(V)]),t("div",bt,[_(at)])])],64))}},kt=k(ht,[["__scopeId","data-v-854c911c"]]);export{kt as default};
